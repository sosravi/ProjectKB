{
  "version": 4,
  "terraform": {
    "required_version": ">= 1.0",
    "required_providers": {
      "aws": {
        "source": "hashicorp/aws",
        "version": "~> 5.0"
      },
      "random": {
        "source": "hashicorp/random",
        "version": "~> 3.0"
      }
    }
  },
  "provider": {
    "aws": {
      "region": "us-east-1"
    }
  },
  "variable": {
    "aws_region": {
      "description": "AWS region where resources will be created",
      "type": "string",
      "default": "us-east-1"
    },
    "environment": {
      "description": "Environment name (production, staging, development)",
      "type": "string",
      "default": "production"
    },
    "project_name": {
      "description": "Project name used for resource naming",
      "type": "string",
      "default": "ProjectKB"
    },
    "domain_name": {
      "description": "Custom domain name for the application (optional)",
      "type": "string",
      "default": ""
    }
  },
  "output": {
    "aws_region": {
      "description": "AWS region where resources are deployed",
      "value": "${data.aws_region.current.name}"
    },
    "s3_uploads_bucket": {
      "description": "S3 bucket name for file uploads",
      "value": "${aws_s3_bucket.uploads.bucket}"
    },
    "cognito_user_pool_id": {
      "description": "Cognito User Pool ID",
      "value": "${aws_cognito_user_pool.main.id}"
    },
    "cognito_user_pool_client_id": {
      "description": "Cognito User Pool Client ID",
      "value": "${aws_cognito_user_pool_client.main.id}"
    },
    "api_gateway_url": {
      "description": "API Gateway URL",
      "value": "https://${aws_api_gateway_rest_api.main.id}.execute-api.${data.aws_region.current.name}.amazonaws.com/prod"
    }
  }
}


